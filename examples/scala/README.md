# Scala Formatting and Linting Example

This example demonstrates how to set up formatting and linting for Scala code using `rules_lint`.

## Supported Tools

### Formatters

- **Scalafmt** - Code formatter for Scala

### Linters

- **Scalafix** - Scala linter and refactoring tool (syntactic + semantic rules)

## Setup

1. Configure MODULE.bazel with required dependencies
2. Create the MODULE.aspect file to register CLI tasks
3. Configure Maven Dependencies (add scalafmt + scalafix to maven.install artifacts)
4. Configure Formatters and Linters

- See `tools/format/BUILD.bazel` for how to set up the formatter
- See `.scalafmt.conf` for scalafmt configuration
- See `.scalafix.conf` for scalafix syntactic rules
- See `.scalafix.semantic.conf` for scalafix semantic rules

5. Perform formatting using `aspect format`
6. Perform linting using `aspect lint --config=lint`
7. Perform semantic linting using `aspect lint --config=lint-semantic`

## Example Code

The `src/` directory contains example Scala files:

- `hello.scala` - Simple Scala file that can be formatted

## Configuration Files

- `.scalafmt.conf` - Scalafmt configuration file
- `.scalafix.conf` - Scalafix syntactic configuration file
- `.scalafix.semantic.conf` - Scalafix semantic configuration file
- `maven_install.json` - Maven dependency lock file (auto-generated by rules_jvm_external)

### Semantic rules note

Semantic rules require SemanticDB. This example registers a Scala toolchain with
`enable_semanticdb = True` and `semanticdb_bundle_in_jar = True`, which is required
for scalafix to run in Bazel's sandbox.

### Generating maven_install.json

After setting up your MODULE.bazel, generate the lock file:

```bash
bazel run @rules_jvm_external//:pin
```

This will generate the `maven_install.json` file with all transitive dependencies.

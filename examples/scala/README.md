# Scala Formatting Example

This example demonstrates how to set up formatting for Scala code using `rules_lint`.

## Supported Tools

### Formatters

- **Scalafmt** - Code formatter for Scala

Note: No Scala linter is currently available in rules_lint.

## Setup

### 1. Configure MODULE.bazel

Add the required dependencies:

```starlark
bazel_dep(name = "aspect_rules_lint")
bazel_dep(name = "rules_jvm_external", version = "6.5")
```

### 2. Configure Maven Dependencies

Add scalafmt to your maven.install artifacts:

```starlark
maven.install(
    artifacts = [
        "org.scalameta:scalafmt-cli_2.13:3.7.14",
    ],
    lock_file = "//:maven_install.json",
    repositories = [
        "https://maven.google.com",
        "https://repo1.maven.org/maven2",
    ],
)
```

### 3. Configure Formatters

- See `tools/format/BUILD.bazel` for how to set up the formatter
- See `.scalafmt.conf` for scalafmt configuration

### 4. Run Formatters

With Aspect CLI:

```bash
# Format code
aspect format
```

Without Aspect CLI:

```bash
# Format code
bazel run //tools/format
```

## Example Code

The `src/` directory contains example Scala files:

- `hello.scala` - Simple Scala file that can be formatted

## Configuration Files

- `.scalafmt.conf` - Scalafmt configuration file
- `maven_install.json` - Maven dependency lock file (auto-generated by rules_jvm_external)

### Generating maven_install.json

After setting up your MODULE.bazel, generate the lock file:

```bash
bazel run @rules_jvm_external//:pin
```

This will generate the `maven_install.json` file with all transitive dependencies.
